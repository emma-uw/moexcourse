---
sidebar_position: 3.1
---

# 3.1. Генерация идей

Генерация идей - это первый шаг в создании торговой стратегии. Мы рассмотрим основные типы стратегий и научимся формулировать гипотезы для тестирования.

## Основные типы стратегий

### Mean Reversion (Возврат к среднему)

Стратегия предполагает, что цена имеет тенденцию возвращаться к среднему значению после отклонений:

- **Логика**: Цена, отклонившаяся от средней, вернется обратно
- **Примеры сигналов**: 
  - Покупка при падении ниже средней на X%
  - Продажа при росте выше средней на X%
- **Преимущества**: Работает на ranging рынках
- **Риски**: Может не работать в сильных трендах

```python
def mean_reversion_signal(price, ma_period=20, threshold=2):
    """
    Сигнал на основе отклонения от скользящей средней
    """
    ma = price.rolling(ma_period).mean()
    std = price.rolling(ma_period).std()
    
    z_score = (price - ma) / std
    
    if z_score < -threshold:
        return 'BUY'  # Цена сильно ниже средней
    elif z_score > threshold:
        return 'SELL'  # Цена сильно выше средней
    else:
        return 'HOLD'
```

### Trend Following (Следование за трендом)

Стратегия следует за направлением рынка:

- **Логика**: "Trend is your friend"
- **Примеры сигналов**:
  - Покупка при пробое сопротивления
  - Продажа при пробое поддержки
- **Преимущества**: Работает в трендовых рынках
- **Риски**: Частые ложные сигналы на боковом рынке

```python
def trend_following_signal(price, fast_ma=10, slow_ma=30):
    """
    Сигнал на основе пересечения скользящих средних
    """
    fast = price.rolling(fast_ma).mean()
    slow = price.rolling(slow_ma).mean()
    
    if fast > slow and fast.shift(1) <= slow.shift(1):
        return 'BUY'  # Быстрая MA пересекает медленную снизу вверх
    elif fast < slow and fast.shift(1) >= slow.shift(1):
        return 'SELL'  # Быстрая MA пересекает медленную сверху вниз
    else:
        return 'HOLD'
```

## Формулировка гипотез

Примеры гипотез для тестирования:

1. **Mean Reversion**: "После падения цены на 2 стандартных отклонения от 20-дневной средней, она возвращается к средней в течение 5 дней"
2. **Trend Following**: "Пересечение 10-дневной и 30-дневной скользящих средних предсказывает направление движения на следующие 10 дней"
3. **Order Book**: "Дисбаланс в стакане более 70% предсказывает движение цены в сторону дисбаланса в течение следующих 5 минут"

## Процесс генерации идей

1. **Наблюдение**: Изучение графиков и паттернов
2. **Гипотеза**: Формулировка предположения
3. **Бэктестинг**: Проверка на исторических данных
4. **Оптимизация**: Улучшение параметров
5. **Валидация**: Проверка на новых данных

Помните, что простые идеи часто работают лучше сложных. Начните с базовых стратегий и постепенно усложняйте их.
