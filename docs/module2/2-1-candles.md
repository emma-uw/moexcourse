---
sidebar_position: 2.1
---

# 2.1. Свечи, Сделки, Стакан

В этом разделе мы разберем основные элементы рыночных данных: японские свечи, индивидуальные сделки и стакан заявок. Понимание этих компонентов позволяет лучше анализировать рыночную динамику.

## Японские свечи

Японская свеча представляет собой агрегированные данные за определенный период времени:

- **Тело свечи** - разница между ценой открытия и закрытия
- **Фитили (тени)** - диапазон между максимумом и минимумом
- **Цвет** - зеленый (бычья свеча) или красный (медвежья свеча)

```python
# Структура свечи в данных MOEX
candle = {
    'open': 100.0,    # цена открытия
    'close': 105.0,   # цена закрытия
    'high': 107.0,    # максимум
    'low': 99.0,      # минимум
    'volume': 10000   # объем
}
```

## Индивидуальные сделки

Каждая сделка имеет важную характеристику - инициатора:

- **Покупатель как инициатор** - агрессивная покупка (bid-hit)
- **Продавец как инициатор** - агрессивная продажа (ask-hit)

Инициатор сделки показывает, кто "бьет" по рынку, что дает представление о силе покупателей или продавцов.

```python
# Пример данных о сделках
trades = [
    {'price': 100.5, 'volume': 100, 'initiator': 'buyer'},  # покупатель бьет
    {'price': 100.3, 'volume': 50, 'initiator': 'seller'}   # продавец бьет
]
```

## Стакан заявок (Order Book)

Стакан показывает все активные заявки на покупку (bid) и продажу (ask):

- **Bid** - заявки на покупку (ниже текущей цены)
- **Ask** - заявки на продажу (выше текущей цены)
- **Дисбаланс** - разница между объемами bid и ask

Анализ стакана помогает предсказывать краткосрочные движения цены.

## Практическое значение

Понимание этих элементов позволяет:
- Определять направление тренда
- Выявлять уровни поддержки и сопротивления
- Анализировать агрессивность покупателей и продавцов
- Предсказывать возможные движения цены

В следующих разделах мы научимся использовать эти данные для создания торговых сигналов.
